=> In this project we have learned

✅ Authentication & Security

Email OTP signup
Login with JWT
Auth middleware
Role-based access (user vs admin)
Admin middleware (secure, correct)

✅ Products & Categories

Product CRUD
Category system
Product–category relationship
Filtering, sorting, pagination
Proper use of .populate()

✅ Cart System (hard part)

Add to cart
Quantity update
Remove item
Clear cart
Cart total calculation
Backend-controlled cart state (very important)

✅ Orders (this is advanced)

Cart → Order snapshot
Address handling (correct scope)
COD flow
Order immutability
User order history
Single order fetch
Admin order status lifecycle
Safe status transitions
Case-insensitive admin input handling

✅ Architecture

Clean route separation
Middlewares
Controllers
Scalable structure
No spaghetti code


find() returns an array
findOne({}) returns a single object or null if not found


| Operator    | What it does        |
| ----------- | ------------------- |
| `{ items }` | Replace whole array |
| `$push`     | Add new item        |
| `$inc`      | Increase quantity   |
| `$pull`     | Remove item         |

$push normally adds one element
$each allows pushing multiple elements at once


E-commerce logic is mostly industry patterns, not creativity.

build logic -:
Before code write what you will code in plain english - This is logic
Then convert english to code




Regex -:

if (!/^\d{10}$/.test(phone)) {
  return res.status(400).json({
    msg: 'Invalid phone number'
  })
}

| Part   | Meaning           |
| ------ | ----------------- |
| `/ /`  | Regex syntax      |
| `^`    | Start of string   |
| `\d`   | Any digit (0–9)   |
| `{10}` | Exactly 10 digits |
| `$`    | End of string     |

.test(phone)
return true if phone matches the pattern
return false if it does not



timestamps
2026-01-15T17:03:54.389+00:00
YYYY-MM-DDTHH:mm:ss.sss+00:00

T → separator between date & time
.389 → milliseconds
+00:00 → UTC timezone (GMT)

so to sort in descending order newest first -:
const products = await Product.find().sort({ createdAt: -1 })
to sort in ascending order oldest first -:
const products = await Product.find().sort({ createdAt: 1 })

